(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{9922:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Onboarding",function(){return a(392)}])},392:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var r=a(2540),s=a(3696),o=a(721),l=a(926);let n=e=>{let{onNext:t}=e;return(0,r.jsxs)(l.P.div,{className:"text-center py-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Welcome to Your AI Goal Coach"}),(0,r.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Ready to achieve your goals? Let's pair you with your perfect AI coach and create a personalized path to success."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{onClick:t,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-semibold text-lg",children:"Let's Get Started"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Takes only 2 minutes to setup"})]})]})},i=[{id:"luna",name:"Luna",personality:"Empathetic Guide",specialties:["Emotional Support","Work-Life Balance","Personal Growth"],avatarUrl:"\uD83C\uDF19",profileImage:"https://img.recraft.ai/9SDeazrGYBf6jj-TWNQP6Yk8twFfFLA9qc1m5T0xK98/rs:fit:1024:1024:0/q:80/g:no/plain/abs://prod/images/4c71a474-180b-48a1-a1d1-32f97ebdab90@avif",description:"A warm and understanding coach who focuses on supportive, nurturing guidance"},{id:"max",name:"Max",personality:"Strategic Partner",specialties:["Data-Driven","Structured Planning","Efficiency"],avatarUrl:"\uD83D\uDCCA",profileImage:"https://img.recraft.ai/QykHMV_-kgzpv7p54RvGbhl4R2qG9OKd7wR3UfTOmA8/rs:fit:1024:1024:0/q:80/g:no/plain/abs://prod/images/3cf8f7de-7719-4c55-9135-e2b6e42019c4@avif",description:"An analytical coach who provides clear, structured approaches to achieving goals"},{id:"zara",name:"Zara",personality:"Energetic Motivator",specialties:["High Energy","Positive Motivation","Action-Oriented"],avatarUrl:"âš¡",profileImage:"https://img.recraft.ai/tk-8_rxFGbWiZWzLt21VeNUSzAaZl6bK_gnMmU6o_Zk/rs:fit:1024:1024:0/q:80/g:no/plain/abs://prod/images/566e4ab9-69e3-4aaa-af06-2490b34a74cf@avif",description:"A dynamic coach who brings enthusiasm and high energy to your goal journey"},{id:"sage",name:"Sage",personality:"Wise Mentor",specialties:["Deep Reflection","Holistic Approach","Long-term Growth"],avatarUrl:"\uD83C\uDF3F",profileImage:"https://img.recraft.ai/k_2EmxFkpEFSwxVMzs8pN1qN9zlY95ozP5x8SnHzUVo/rs:fit:1024:1024:0/q:80/g:no/plain/abs://prod/images/5728095c-f5ab-4531-9229-d176ebef4f22@avif",description:"A thoughtful coach who combines practical advice with philosophical insights"}],c=e=>{let{onNext:t,onBack:a,onSelect:o}=e,[n,c]=(0,s.useState)(null),d=e=>{c(e),o(e)};return(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Choose Your AI Coach"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-6",children:i.map(e=>(0,r.jsx)(l.P.button,{onClick:()=>d(e),className:"w-full p-6 bg-white rounded-xl shadow-sm hover:shadow-md \n                     transition-all border ".concat((null==n?void 0:n.id)===e.id?"border-blue-500 ring-2 ring-blue-200":"border-gray-100"),children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,r.jsx)("div",{className:"w-32 h-32 bg-gray-200 overflow-hidden flex-shrink-0",children:(0,r.jsx)("img",{src:e.profileImage,alt:e.name,className:"w-full h-full object-cover",onLoad:()=>console.log("Image loaded successfully for ".concat(e.name,":"),e.profileImage),onError:t=>{console.error("Failed to load image for ".concat(e.name,":"),e.profileImage),t.currentTarget.src="https://ui-avatars.com/api/?name=".concat(e.name,"&background=random")}})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:e.name}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:e.description}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mt-3",children:e.specialties.map(e=>(0,r.jsx)("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-sm",children:e},e))})]})]})},e.id))}),(0,r.jsxs)("div",{className:"mt-8 flex justify-center space-x-4",children:[(0,r.jsx)("button",{onClick:a,className:"px-6 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"Back"}),(0,r.jsxs)("button",{onClick:t,disabled:!n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700  transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Continue with ",(null==n?void 0:n.name)||"Selected Coach"]})]})]})},d=e=>{let{onNext:t,onBack:a,onSubmit:o}=e,[n,i]=(0,s.useState)({title:"",description:"",targetDate:""});return(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Tell us about your goal"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o({...n,targetDate:n.targetDate?new Date(n.targetDate):null}),t()},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Goal Title"}),(0,r.jsx)("input",{type:"text",id:"title",value:n.title,onChange:e=>i(t=>({...t,title:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{id:"description",value:n.description,onChange:e=>i(t=>({...t,description:e.target.value})),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"targetDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Date"}),(0,r.jsx)("input",{type:"date",id:"targetDate",value:n.targetDate,onChange:e=>i(t=>({...t,targetDate:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-6 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"Back"}),(0,r.jsx)("button",{type:"submit",className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Continue"})]})]})]})},u=()=>(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-6xl mb-6",children:"\uD83C\uDF89"}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"You're All Set!"}),(0,r.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Your AI coach is ready to help you achieve your goals. Let's get started on your journey!"}),(0,r.jsx)("button",{onClick:()=>window.location.href="/dashboard",className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-semibold text-lg",children:"Go to Dashboard"})]}),m=e=>{let{currentStep:t,totalSteps:a}=e;return(0,r.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full mb-8",children:(0,r.jsx)("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:"".concat(t/a*100,"%")}})})},x=e=>{let{coach:t,onNext:a,onBack:o,onGoalSet:n}=e,[i,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(""),[m,x]=(0,s.useState)(!1),p=(0,s.useRef)(null);(0,s.useEffect)(()=>{c([{role:"assistant",content:"Hi! I'm ".concat(t.name,", a ").concat(t.personality,". I'm here to help you achieve your goals. Could you tell me about the specific goal you'd like to work on?")}])},[t]),(0,s.useEffect)(()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[i]),(0,s.useEffect)(()=>{console.log("API URL:","http://localhost:3001")},[]);let h=async()=>{if(!d.trim())return;let e=d.trim();u(""),c(t=>[...t,{role:"user",content:e}]),x(!0);try{let a=await fetch("".concat("http://localhost:3001","/api/chat"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({messages:[...i,{role:"user",content:e}],coachPersonality:t.personality,coachName:t.name,coachImage:t.profileImage})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let r=await a.json();if(!r.message)throw Error("Invalid response format");c(e=>[...e,{role:"assistant",content:r.message}]),1===i.length&&n(e)}catch(e){console.error("Error in handleSendMessage:",e),c(e=>[...e,{role:"assistant",content:"I'm sorry, I'm having trouble responding right now. Please try again."}])}finally{x(!1)}};return(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-4 border-b flex items-center bg-gray-50",children:[(0,r.jsx)("img",{src:t.profileImage,alt:t.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm",onError:e=>{e.currentTarget.src="https://ui-avatars.com/api/?name=".concat(t.name)}}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:t.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:t.personality})]})]}),(0,r.jsxs)("div",{className:"p-6 min-h-[500px] flex flex-col",children:[(0,r.jsxs)("div",{className:"flex-grow overflow-y-auto mb-4 space-y-4",children:[i.map((e,a)=>(0,r.jsxs)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"," items-end gap-2"),children:["assistant"===e.role&&(0,r.jsx)("img",{src:t.profileImage,alt:t.name,className:"w-8 h-8 rounded-full object-cover",onError:e=>{e.currentTarget.src="https://ui-avatars.com/api/?name=".concat(t.name)}}),(0,r.jsx)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("user"===e.role?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"),children:e.content})]},a)),m&&(0,r.jsxs)("div",{className:"flex justify-start items-end gap-2",children:[(0,r.jsx)("img",{src:t.profileImage,alt:t.name,className:"w-8 h-8 rounded-full object-cover",onError:e=>{e.currentTarget.src="https://ui-avatars.com/api/?name=".concat(t.name)}}),(0,r.jsx)("div",{className:"bg-gray-100 text-gray-800 rounded-lg rounded-bl-none p-3",children:"Typing..."})]}),(0,r.jsx)("div",{ref:p})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),onKeyPress:e=>"Enter"===e.key&&h(),className:"flex-grow p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type your message..."}),(0,r.jsx)("button",{onClick:h,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Send"})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 flex justify-center space-x-4",children:[(0,r.jsx)("button",{onClick:o,className:"px-6 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"Back"}),(0,r.jsx)("button",{onClick:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Continue"})]})]})},p=()=>{console.log("Rendering Onboarding component");let[e,t]=(0,s.useState)({currentStep:1,selectedGoalType:null,selectedCoach:null,initialGoal:{title:"",description:"",targetDate:null}}),a=()=>{t(e=>({...e,currentStep:e.currentStep+1}))},i=()=>{t(e=>({...e,currentStep:e.currentStep-1}))};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,r.jsx)(m,{currentStep:e.currentStep,totalSteps:5}),(0,r.jsx)(o.N,{mode:"wait",children:(0,r.jsx)(l.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(()=>{switch(console.log("Current step:",e.currentStep),console.log("Selected coach:",e.selectedCoach),e.currentStep){case 1:return(0,r.jsx)(n,{onNext:a});case 2:return(0,r.jsx)(c,{onNext:a,onBack:i,onSelect:e=>t(t=>({...t,selectedCoach:e}))});case 3:if(!e.selectedCoach)return console.error("No coach selected"),null;return(0,r.jsx)(x,{coach:e.selectedCoach,onNext:a,onBack:i,onGoalSet:e=>t(t=>({...t,initialGoal:{...t.initialGoal,description:e}}))});case 4:return(0,r.jsx)(d,{onNext:a,onBack:i,onSubmit:e=>t(t=>({...t,initialGoal:e}))});case 5:return(0,r.jsx)(u,{});default:return null}})()},e.currentStep)})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[665,636,593,792],()=>t(9922)),_N_E=e.O()}]);